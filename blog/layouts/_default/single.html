{{ define "main" }}
<article class="max-w-2xl mx-auto">

  <!-- Cover image -->
  {{ with .Params.image }}
  {{ if and (ne . "") (ne . "pending") }}
  <div class="mb-8 rounded-xl overflow-hidden border border-white/10">
    <img src="{{ . | absURL }}" alt="{{ $.Title }}" class="w-full h-64 object-cover" />
  </div>
  {{ end }}
  {{ end }}

  <!-- Header -->
  <header class="mb-8">
    <!-- Categories -->
    {{ with .Params.categories }}
    <div class="flex flex-wrap gap-2 mb-4">
      {{ range . }}
      <span class="text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-full"
            style="background:rgba(0,229,255,.1); border:1px solid rgba(0,229,255,.25); color:#00e5ff;">
        {{ . }}
      </span>
      {{ end }}
    </div>
    {{ end }}

    <!-- Title -->
    <h1 class="text-3xl md:text-4xl font-black text-white leading-tight mb-4">{{ .Title }}</h1>

    <!-- Meta -->
    <div class="flex items-center gap-4 text-sm text-gray-500">
      <time datetime="{{ .Date.Format "2006-01-02" }}">
        {{ .Date.Format "2 January 2006" }}
      </time>
      <span>·</span>
      <span>{{ .ReadingTime }} min de lectura</span>
      {{ with .Site.Params.author }}
      <span>·</span>
      <span>{{ . }}</span>
      {{ end }}
    </div>
  </header>

  <!-- Content -->
  <div class="prose prose-invert max-w-none leading-relaxed">
    {{ .Content }}
  </div>

  <!-- Navigation -->
  <nav class="mt-12 pt-8 border-t border-white/10 flex justify-between gap-4">
    {{ with .PrevInSection }}
    <a href="{{ .Permalink }}" class="flex items-center gap-2 text-sm text-gray-400 hover:text-cyan-400 transition-colors">
      ← {{ .Title }}
    </a>
    {{ else }}<div></div>{{ end }}

    {{ with .NextInSection }}
    <a href="{{ .Permalink }}" class="flex items-center gap-2 text-sm text-gray-400 hover:text-cyan-400 transition-colors">
      {{ .Title }} →
    </a>
    {{ else }}<div></div>{{ end }}
  </nav>

  <!-- Back to list -->
  <div class="mt-6 text-center">
    <a href="{{ "/posts/" | relURL }}" class="text-sm text-cyan-400 hover:text-cyan-300 transition-colors">
      ← Todos los artículos
    </a>
  </div>

</article>
{{ end }}
